<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ERC20 Transfer</title>
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
</head>
<body>
  <h2>ERC-20 Token Transfer on Holesky</h2>
  <button id="transferButton">Send 10 Tokens</button>
  <p id="status"></p>

  <script>
    const tokenAddress = "0x1dFD3fEcda5aD8AaFed12F8B5418c6F068e08148"; /
    const recipient = "0x15433DA387451F9dE4565280C85506CB71aF9376";
    const tokenABI = [
      "function transfer(address to, uint amount) public returns (bool)",
      "function decimals() view returns (uint8)"
    ];

    const provider = new ethers.providers.Web3Provider(window.ethereum);
    const signer = provider.getSigner();
    const contract = new ethers.Contract(tokenAddress, tokenABI, signer);

    document.getElementById("transferButton").onclick = async () => {
      try {
        await window.ethereum.request({ method: 'eth_requestAccounts' });
        document.getElementById("status").innerText = "Connecting...";

        const decimals = await contract.decimals();
        const amount = ethers.utils.parseUnits("10", decimals);

        const tx = await contract.transfer(recipient, amount);
        document.getElementById("status").innerText = "Transaction sent. Waiting for confirmation...";

        await tx.wait();
        document.getElementById("status").innerText = "Transaction confirmed!";
      } catch (error) {
        console.error(error);
        document.getElementById("status").innerText = "Error: " + (error.message || error);
      }
    };
  </script>
</body>
</html>
